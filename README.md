# ğŸ“ RuoYi-AI-Classroom

## åŸºäºRuoYiæ¡†æ¶çš„æ™ºèƒ½è¯¾å ‚è¡Œä¸ºåˆ†æç³»ç»Ÿ

[![License: MIT](https://img.shields.io/badge/License-MIT-blue.svg)](https://opensource.org/licenses/MIT)
[![Java](https://img.shields.io/badge/Java-25-orange.svg)](https://openjdk.java.net/)
[![Spring Boot](https://img.shields.io/badge/Spring%20Boot-3.5.6-brightgreen.svg)](https://spring.io/projects/spring-boot)
[![Vue.js](https://img.shields.io/badge/Vue.js-3.5.13-4FC08D.svg)](https://vuejs.org/)
[![Python](https://img.shields.io/badge/Python-3.8+-blue.svg)](https://www.python.org/)
[![RuoYi](https://img.shields.io/badge/RuoYi-Vue3-red.svg)](http://ruoyi.vip/)

---

## ğŸ“‹ ç›®å½•

- [ğŸ“– é¡¹ç›®ç®€ä»‹](#-é¡¹ç›®ç®€ä»‹)
- [ğŸ’» æŠ€æœ¯æ ˆ](#-æŠ€æœ¯æ ˆ)
- [ğŸ—ï¸ ç³»ç»Ÿæ¶æ„](#ï¸-ç³»ç»Ÿæ¶æ„)
  - [ğŸ“‹ æ¶æ„æ¦‚è§ˆ](#-æ¶æ„æ¦‚è§ˆ)
  - [ğŸ”§ æ ¸å¿ƒç»„ä»¶è¯´æ˜](#-æ ¸å¿ƒç»„ä»¶è¯´æ˜)
  - [ğŸ“ é¡¹ç›®ç›®å½•ç»“æ„](#-é¡¹ç›®ç›®å½•ç»“æ„)
- [ğŸ”„ ç³»ç»Ÿæµç¨‹è®¾è®¡](#-ç³»ç»Ÿæµç¨‹è®¾è®¡)
  - [â±ï¸ å›¾ç‰‡æ£€æµ‹æµç¨‹æ—¶åºå›¾](#ï¸-å›¾ç‰‡æ£€æµ‹æµç¨‹æ—¶åºå›¾)
  - [ğŸ“Š æ•°æ®æµå›¾](#-æ•°æ®æµå›¾)
- [ğŸ—„ï¸ æ•°æ®æ¨¡å‹è®¾è®¡](#ï¸-æ•°æ®æ¨¡å‹è®¾è®¡)
  - [ğŸ“Š å®ä½“å…³ç³»å›¾](#-å®ä½“å…³ç³»å›¾)
- [ğŸš€ éƒ¨ç½²æ¶æ„](#-éƒ¨ç½²æ¶æ„)
  - [ğŸ–¥ï¸ éƒ¨ç½²æ¶æ„å›¾](#ï¸-éƒ¨ç½²æ¶æ„å›¾)
  - [ğŸŒ ç½‘ç»œæ‹“æ‰‘è¯´æ˜](#-ç½‘ç»œæ‹“æ‰‘è¯´æ˜)
- [ğŸš€ å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
- [ğŸ¯ ä¸»è¦åŠŸèƒ½](#-ä¸»è¦åŠŸèƒ½)
- [ğŸ”‘ é»˜è®¤è´¦å·](#-é»˜è®¤è´¦å·)
- [ğŸ“¡ APIæ¥å£](#-apiæ¥å£)
- [ğŸ”§ é…ç½®è¯´æ˜](#-é…ç½®è¯´æ˜)
- [ğŸ› å¸¸è§é—®é¢˜](#-å¸¸è§é—®é¢˜)
- [ğŸ¨ ç•Œé¢é¢„è§ˆ](#-ç•Œé¢é¢„è§ˆ)
- [ğŸš€ éƒ¨ç½²å»ºè®®](#-éƒ¨ç½²å»ºè®®)
- [ğŸ“ æ›´æ–°æ—¥å¿—](#-æ›´æ–°æ—¥å¿—)
- [ğŸ¤ è´¡çŒ®æŒ‡å—](#-è´¡çŒ®æŒ‡å—)
- [ğŸ™ è‡´è°¢](#-è‡´è°¢)

---

## ğŸ“– é¡¹ç›®ç®€ä»‹

> **æœ¬é¡¹ç›®æ˜¯åŸºäºåŸ"è®¡ç®—æœºå›¾åƒæ£€æµ‹ä¸å¤§æ¨¡å‹åé¦ˆçš„è¯¾å ‚è¡Œä¸ºç³»ç»Ÿ"æ·±åº¦æ”¹è£…è€Œæ¥**ï¼Œå®Œæ•´é›†æˆäº† **RuoYi-Vue3** å‰åç«¯åˆ†ç¦»æ¡†æ¶ï¼Œå‡çº§è‡³ **Spring Boot 3.5.6** å’Œ **Vue 3** æœ€æ–°ç‰ˆæœ¬ã€‚

ç³»ç»Ÿç»“åˆ **è®¡ç®—æœºè§†è§‰ï¼ˆYOLO/RT-DETRï¼‰** ä¸ **å¤§è¯­è¨€æ¨¡å‹ï¼ˆDeepseek/é€šä¹‰åƒé—®ï¼‰**ï¼Œåœ¨ RuoYi ä¼ä¸šçº§æ¡†æ¶åŸºç¡€ä¸Šï¼Œå®ç°è¯¾å ‚è¡Œä¸ºè‡ªåŠ¨è¯†åˆ«ã€æ™ºèƒ½åˆ†æä¸åé¦ˆã€‚

### ğŸŒŸ æ ¸å¿ƒç‰¹æ€§

- ğŸ¢ **ä¼ä¸šçº§RuoYiæ¡†æ¶**ï¼šå®Œå–„çš„æƒé™ç®¡ç†ã€èœå•é…ç½®ã€ç³»ç»Ÿç›‘æ§
- ğŸ¤– **AIæ™ºèƒ½æ£€æµ‹**ï¼šYOLO/RT-DETRç›®æ ‡æ£€æµ‹ + å¤§æ¨¡å‹æ™ºèƒ½åˆ†æ
- ğŸ¯ **å‰åç«¯åˆ†ç¦»**ï¼šSpring Boot 3.5.6 + Vue 3 + Element Plus
- ğŸ“Š **æ•°æ®å¯è§†åŒ–**ï¼šEChartså®æ—¶å±•ç¤ºå­¦ç”Ÿè¡Œä¸ºç»Ÿè®¡
- ğŸ” **å®‰å…¨è®¤è¯**ï¼šSpring Security + JWT + Redis
- ğŸ“¹ **å¤šæ¨¡æ€æ£€æµ‹**ï¼šå›¾ç‰‡ã€è§†é¢‘ã€å®æ—¶æ‘„åƒå¤´ä¸‰ç§æ£€æµ‹æ–¹å¼

### âœ¨ é¡¹ç›®äº®ç‚¹

| ç‰¹æ€§ | è¯´æ˜ |
|------|------|
| ğŸ¯ é«˜ç²¾åº¦æ£€æµ‹ | åŸºäºYOLOv8å’ŒRT-DETRå…ˆè¿›ç®—æ³•ï¼Œè¯†åˆ«9ç§è¯¾å ‚è¡Œä¸ºï¼Œå‡†ç¡®ç‡é«˜ |
| ğŸ§  æ™ºèƒ½AIåˆ†æ | é›†æˆDeepSeekã€é€šä¹‰åƒé—®ç­‰å¤§æ¨¡å‹ï¼Œæä¾›ä¸“ä¸šæ•™å­¦å»ºè®® |
| âš¡ å®æ—¶å¤„ç† | WebSocketå®æ—¶æ¨é€æ£€æµ‹è¿›åº¦ï¼Œæ¯«ç§’çº§å“åº” |
| ğŸ”§ çµæ´»éƒ¨ç½² | æ”¯æŒäº‘ç«¯APIã€æœ¬åœ°LM-Studioã€å±€åŸŸç½‘ä¸‰ç§AIéƒ¨ç½²æ–¹å¼ |
| ğŸ“Š å¯è§†åŒ–æŠ¥å‘Š | ç›´è§‚çš„æ£€æµ‹ç»“æœå±•ç¤ºï¼Œæ”¯æŒPDFæŠ¥å‘Šå¯¼å‡º |
| ğŸš€ ç°ä»£æŠ€æœ¯æ ˆ | Spring Boot 3.5.6 + Vue 3.5.13ï¼Œæ€§èƒ½å“è¶Š |
| ğŸ¨ ç¾è§‚ç•Œé¢ | Element Plusç°ä»£åŒ–UIï¼Œäº¤äº’æµç•… |
| ğŸ” ä¼ä¸šçº§å®‰å…¨ | Spring Security + JWTåŒé‡è®¤è¯ï¼Œæ•°æ®å®‰å…¨å¯é  |

---

## ğŸ’» æŠ€æœ¯æ ˆ

### åç«¯æŠ€æœ¯

| æŠ€æœ¯ | ç‰ˆæœ¬ | è¯´æ˜ |
|------|------|------|
| Spring Boot | 3.5.6 | æ ¸å¿ƒæ¡†æ¶ |
| Spring Security | 6.5.5 | å®‰å…¨æ¡†æ¶ |
| MyBatis-Plus | 3.5.9 | ORMæ¡†æ¶ |
| MySQL | 8.0+ | å…³ç³»å‹æ•°æ®åº“ |
| Redis | Latest | ç¼“å­˜ |
| Druid | 1.2.23 | æ•°æ®åº“è¿æ¥æ±  |
| JWT | 0.9.1 | Tokenè®¤è¯ |
| Quartz | 2.5.0 | å®šæ—¶ä»»åŠ¡ |
| Flask | 3.1.0 | AIæ¨ç†æœåŠ¡ |

### å‰ç«¯æŠ€æœ¯

| æŠ€æœ¯ | ç‰ˆæœ¬ | è¯´æ˜ |
|------|------|------|
| Vue.js | 3.5.13 | æ¸è¿›å¼æ¡†æ¶ |
| Element Plus | Latest | UIç»„ä»¶åº“ |
| Vite | Latest | æ„å»ºå·¥å…· |
| Axios | 1.7.9 | HTTPå®¢æˆ·ç«¯ |
| Pinia | Latest | çŠ¶æ€ç®¡ç† |
| ECharts | Latest | æ•°æ®å¯è§†åŒ– |
| Socket.IO | Latest | å®æ—¶é€šä¿¡ |

### AIæ¨ç†

| æŠ€æœ¯ | ç‰ˆæœ¬ | è¯´æ˜ |
|------|------|------|
| Ultralytics | 8.3.53 | YOLOæ¡†æ¶ |
| OpenCV | 4.10.0 | è®¡ç®—æœºè§†è§‰ |
| FFmpeg | 8.0 | è§†é¢‘å¤„ç† |
| Flask-SocketIO | 5.4.1 | WebSocket |

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

### ğŸ“‹ æ¶æ„æ¦‚è§ˆ

æœ¬é¡¹ç›®é‡‡ç”¨ç°ä»£åŒ–çš„å¾®æœåŠ¡æ¶æ„è®¾è®¡ï¼ŒåŸºäºRuoYi-Vue3æ¡†æ¶ï¼Œé›†æˆAIæ£€æµ‹ä¸å¤§æ¨¡å‹åˆ†æèƒ½åŠ›ã€‚

```mermaid
graph TD
    %% å‰ç«¯å±‚
    subgraph Frontend["ğŸ–¥ï¸ å‰ç«¯å±‚ (Vue 3.5.13)"]
        direction TB
        UI[ç”¨æˆ·ç•Œé¢]
        
        subgraph RuoYiPages["RuoYiç³»ç»Ÿé¡µé¢"]
            UserMgmt[ç”¨æˆ·ç®¡ç†]
            RoleMgmt[è§’è‰²ç®¡ç†]
            MenuMgmt[èœå•ç®¡ç†]
            SysMon[ç³»ç»Ÿç›‘æ§]
        end
        
        subgraph AIPages["AIæ£€æµ‹é¡µé¢"]
            DataOverview[æ•°æ®æ€»è§ˆ]
            ImgPage[å›¾ç‰‡æ£€æµ‹]
            VideoPage[è§†é¢‘æ£€æµ‹]
            CameraPage[æ‘„åƒå¤´æ£€æµ‹]
            RecordPages[æ£€æµ‹è®°å½•ç®¡ç†]
        end
        
        UI --- RuoYiPages
        UI --- AIPages
    end

    %% ä¸šåŠ¡é€»è¾‘å±‚
    subgraph Backend["âš™ï¸ ä¸šåŠ¡é€»è¾‘å±‚ (Spring Boot 3.5.6)"]
        direction TB
        
        subgraph Security["å®‰å…¨æ¡†æ¶"]
            SpringSec[Spring Security 6.5.5]
            JWT[JWT Tokenè®¤è¯]
            Redis[Redisç¼“å­˜]
        end
        
        subgraph Controllers["æ§åˆ¶å™¨å±‚"]
            UserController[ç”¨æˆ·æ§åˆ¶å™¨]
            PredController[æ£€æµ‹æ§åˆ¶å™¨]
            FileController[æ–‡ä»¶æ§åˆ¶å™¨]
            RecordControllers[è®°å½•æ§åˆ¶å™¨]
        end
        
        subgraph Services["æœåŠ¡å±‚"]
            UserService[ç”¨æˆ·æœåŠ¡]
            FileService[æ–‡ä»¶æœåŠ¡]
            RecordService[è®°å½•æœåŠ¡]
            CacheService[ç¼“å­˜æœåŠ¡]
        end
        
        subgraph Mappers["æ•°æ®è®¿é—®å±‚"]
            MyBatisPlus[MyBatis-Plus 3.5.9]
            UserMapper[ç”¨æˆ·Mapper]
            ImgMapper[å›¾ç‰‡è®°å½•Mapper]
            VideoMapper[è§†é¢‘è®°å½•Mapper]
            CameraMapper[æ‘„åƒå¤´è®°å½•Mapper]
        end
        
        Security --- Controllers
        Controllers --- Services
        Services --- Mappers
    end

    %% AIæ¨ç†å±‚
    subgraph AILayer["ğŸ¤– AIæ¨ç†å±‚ (Flask 3.1.0)"]
        direction TB
        FlaskApp[Flaskåº”ç”¨]
        SocketIO[SocketIOå®æ—¶é€šä¿¡]
        
        subgraph ModelEngine["æ¨¡å‹å¼•æ“"]
            YOLOModel[YOLO v8æ¨¡å‹]
            DETRModel[RT-DETRæ¨¡å‹]
            ImagePredictor[å›¾ç‰‡é¢„æµ‹å™¨]
            VideoProcessor[è§†é¢‘å¤„ç†å™¨]
            CameraHandler[æ‘„åƒå¤´å¤„ç†å™¨]
        end
        
        subgraph AIAssistant["AIåŠ©æ‰‹æœåŠ¡"]
            ChatAPI[ChatAPI]
            DeepSeek[DeepSeek API]
            Qwen[é€šä¹‰åƒé—® API]
            LocalModels[æœ¬åœ°LM-Studio]
            LANModels[å±€åŸŸç½‘AIæœåŠ¡]
        end
        
        FlaskApp --- SocketIO
        FlaskApp --- ModelEngine
        FlaskApp --- AIAssistant
    end

    %% æ•°æ®å­˜å‚¨å±‚
    subgraph Storage["ğŸ’¾ æ•°æ®å­˜å‚¨å±‚"]
        direction TB
        MySQL[(MySQL 8.0+ æ•°æ®åº“)]
        FileStorage[(æ–‡ä»¶å­˜å‚¨ç³»ç»Ÿ)]
        RedisCache[(Redisç¼“å­˜)]
        
        subgraph Tables["æ ¸å¿ƒæ•°æ®è¡¨"]
            SysUser[sys_user ç”¨æˆ·è¡¨]
            SysRole[sys_role è§’è‰²è¡¨]
            SysMenu[sys_menu èœå•è¡¨]
            ImgTable[img_records å›¾ç‰‡è®°å½•]
            VideoTable[video_records è§†é¢‘è®°å½•]
            CameraTable[camera_records æ‘„åƒè®°å½•]
        end
        
        MySQL --- Tables
    end

    %% å¤–éƒ¨æœåŠ¡
    subgraph External["ğŸŒ å¤–éƒ¨æœåŠ¡"]
        direction TB
        OnlineAI[åœ¨çº¿AIæœåŠ¡<br/>DeepSeek/Qwen]
        LMStudio[æœ¬åœ°LM-Studio<br/>ç«¯å£:1234]
        LANAI[å±€åŸŸç½‘AIæœåŠ¡]
        FFmpeg[FFmpeg 8.0<br/>è§†é¢‘å¤„ç†]
    end

    %% è¿æ¥å…³ç³»
    Frontend -.->|REST API| Backend
    Backend -.->|HTTPè½¬å‘| AILayer
    Backend -.->|JDBC| Storage
    Backend -.->|TokenéªŒè¯| Redis
    AILayer -.->|APIè°ƒç”¨| External
    AILayer -.->|æ–‡ä»¶è¯»å†™| Storage
    
    %% æ ·å¼
    classDef frontendStyle fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    classDef backendStyle fill:#e8f5e8,stroke:#388e3c,stroke-width:2px
    classDef aiStyle fill:#fce4ec,stroke:#c2185b,stroke-width:2px
    classDef storageStyle fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px
    classDef externalStyle fill:#fff3e0,stroke:#f57c00,stroke-width:2px
    
    class Frontend,UI,RuoYiPages,AIPages,UserMgmt,RoleMgmt,MenuMgmt,SysMon,DataOverview,ImgPage,VideoPage,CameraPage,RecordPages frontendStyle
    class Backend,Security,Controllers,Services,Mappers,SpringSec,JWT,Redis,UserController,PredController,FileController,RecordControllers,UserService,FileService,RecordService,CacheService,MyBatisPlus,UserMapper,ImgMapper,VideoMapper,CameraMapper backendStyle
    class AILayer,FlaskApp,SocketIO,ModelEngine,AIAssistant,YOLOModel,DETRModel,ImagePredictor,VideoProcessor,CameraHandler,ChatAPI,DeepSeek,Qwen,LocalModels,LANModels aiStyle
    class Storage,MySQL,FileStorage,RedisCache,Tables,SysUser,SysRole,SysMenu,ImgTable,VideoTable,CameraTable storageStyle
    class External,OnlineAI,LMStudio,LANAI,FFmpeg externalStyle
```

### ğŸ”§ æ ¸å¿ƒç»„ä»¶è¯´æ˜

1. **ğŸ–¥ï¸ å‰ç«¯å±‚ (Vue 3 + Element Plus)**
   - **RuoYiç³»ç»Ÿé¡µé¢**ï¼šå®Œæ•´çš„æƒé™ç®¡ç†ã€ç”¨æˆ·ç®¡ç†ã€ç³»ç»Ÿç›‘æ§ç­‰ä¼ä¸šçº§åŠŸèƒ½
   - **AIæ£€æµ‹é¡µé¢**ï¼šå›¾ç‰‡/è§†é¢‘/æ‘„åƒå¤´æ£€æµ‹ã€æ•°æ®å¯è§†åŒ–ã€æ£€æµ‹è®°å½•ç®¡ç†

2. **âš™ï¸ ä¸šåŠ¡é€»è¾‘å±‚ (Spring Boot 3.5.6)**
   - **å®‰å…¨æ¡†æ¶**ï¼šSpring Security + JWT + Rediså®ç°å®Œæ•´çš„è®¤è¯æˆæƒä½“ç³»
   - **åˆ†å±‚æ¶æ„**ï¼šController â†’ Service â†’ Mapper æ¸…æ™°çš„ä¸‰å±‚æ¶æ„
   - **MyBatis-Plus**ï¼šç®€åŒ–æ•°æ®åº“æ“ä½œï¼Œæä¾›å¼ºå¤§çš„CRUDèƒ½åŠ›

3. **ğŸ¤– AIæ¨ç†å±‚ (Flask + PyTorch)**
   - **æ¨¡å‹å¼•æ“**ï¼šæ”¯æŒYOLO v8å’ŒRT-DETRä¸¤ç§æ£€æµ‹æ¨¡å‹
   - **AIåŠ©æ‰‹**ï¼šé›†æˆå¤šç§å¤§è¯­è¨€æ¨¡å‹æä¾›æ™ºèƒ½åˆ†æ
   - **å®æ—¶é€šä¿¡**ï¼šSocketIOæ”¯æŒå®æ—¶æ£€æµ‹è¿›åº¦æ¨é€

4. **ğŸ’¾ æ•°æ®å­˜å‚¨å±‚**
   - **MySQL**ï¼šå­˜å‚¨ç”¨æˆ·æ•°æ®ã€æ£€æµ‹è®°å½•ã€ç³»ç»Ÿé…ç½®
   - **Redis**ï¼šç¼“å­˜ç”¨æˆ·ä¼šè¯ã€Tokenã€é¢‘ç¹è®¿é—®æ•°æ®
   - **æ–‡ä»¶å­˜å‚¨**ï¼šä¿å­˜ä¸Šä¼ çš„å›¾ç‰‡ã€è§†é¢‘åŠæ£€æµ‹ç»“æœ

### ğŸ“ é¡¹ç›®ç›®å½•ç»“æ„

```
RuoYi-Vue3-springboot3/
â”œâ”€â”€ ruoyi-admin/          # Spring Bootä¸»åº”ç”¨
â”œâ”€â”€ ruoyi-system/         # ç³»ç»Ÿæ ¸å¿ƒæ¨¡å—
â”œâ”€â”€ ruoyi-common/         # å…¬å…±å·¥å…·ç±»
â”œâ”€â”€ ruoyi-framework/      # æ¡†æ¶æ ¸å¿ƒï¼ˆSecurityé…ç½®ï¼‰
â”œâ”€â”€ ruoyi-quartz/         # å®šæ—¶ä»»åŠ¡æ¨¡å—
â”œâ”€â”€ ruoyi-generator/      # ä»£ç ç”Ÿæˆå™¨
â”œâ”€â”€ ruoyi-flask/          # Flask AIæ¨ç†æœåŠ¡
â”‚   â”œâ”€â”€ main(DETR).py     # RT-DETRæ£€æµ‹æœåŠ¡
â”‚   â”œâ”€â”€ main(YOLO).py     # YOLOæ£€æµ‹æœåŠ¡
â”‚   â”œâ”€â”€ utils/            # å·¥å…·ç±»ï¼ˆchatApi.pyç­‰ï¼‰
â”‚   â””â”€â”€ weights/          # æ¨¡å‹æƒé‡æ–‡ä»¶
â”œâ”€â”€ ruoyi-ui/             # Vue3å‰ç«¯é¡¹ç›®
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ views/ai/     # AIæ£€æµ‹é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ data-overview/     # æ•°æ®æ€»è§ˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ img-predict/       # å›¾ç‰‡æ£€æµ‹
â”‚   â”‚   â”‚   â”œâ”€â”€ video-predict/     # è§†é¢‘æ£€æµ‹
â”‚   â”‚   â”‚   â”œâ”€â”€ camera-predict/    # æ‘„åƒå¤´æ£€æµ‹
â”‚   â”‚   â”‚   â”œâ”€â”€ img-records/       # å›¾ç‰‡è®°å½•
â”‚   â”‚   â”‚   â”œâ”€â”€ video-records/     # è§†é¢‘è®°å½•
â”‚   â”‚   â”‚   â””â”€â”€ camera-records/    # æ‘„åƒè®°å½•
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ sql/                  # æ•°æ®åº“è„šæœ¬
â”‚   â”œâ”€â”€ ry_20250522.sql   # RuoYiåŸºç¡€è¡¨ç»“æ„
â”‚   â”œâ”€â”€ quartz.sql        # Quartzå®šæ—¶ä»»åŠ¡è¡¨
â”‚   â””â”€â”€ ai-detection-menus.sql  # AIæ£€æµ‹èœå•å’Œæƒé™
â”œâ”€â”€ ffmpeg-8.0-full_build/  # FFmpegå·¥å…·ï¼ˆè§†é¢‘å¤„ç†ï¼‰
â””â”€â”€ pom.xml               # Mavençˆ¶é¡¹ç›®é…ç½®
```

---

## ğŸ”„ ç³»ç»Ÿæµç¨‹è®¾è®¡

### â±ï¸ å›¾ç‰‡æ£€æµ‹æµç¨‹æ—¶åºå›¾

```mermaid
sequenceDiagram
    participant U as ğŸ§‘â€ğŸ« æ•™å¸ˆç”¨æˆ·
    participant V as ğŸ’» Vueå‰ç«¯
    participant S as âš™ï¸ Spring Boot
    participant R as ğŸ”´ Redis
    participant F as ğŸ¤– Flask AIæœåŠ¡
    participant Y as ğŸ¯ YOLO/DETRæ¨¡å‹
    participant A as ğŸ§  AIåŠ©æ‰‹
    participant D as ğŸ’¾ MySQLæ•°æ®åº“
    participant FS as ğŸ“ æ–‡ä»¶å­˜å‚¨
    
    %% ç”¨æˆ·ç™»å½•è®¤è¯
    Note over U,R: ğŸ” ç”¨æˆ·è®¤è¯é˜¶æ®µ
    U->>V: 1. è¾“å…¥è´¦å·å¯†ç ç™»å½•
    V->>S: 2. POST /login
    S->>D: 3. éªŒè¯ç”¨æˆ·ä¿¡æ¯
    D-->>S: 4. è¿”å›ç”¨æˆ·æ•°æ®
    S->>R: 5. ç”Ÿæˆå¹¶ç¼“å­˜JWT Token
    S-->>V: 6. è¿”å›Tokenå’Œç”¨æˆ·ä¿¡æ¯
    V-->>U: 7. ç™»å½•æˆåŠŸï¼Œè·³è½¬ä¸»é¡µ
    
    %% å›¾ç‰‡ä¸Šä¼ é˜¶æ®µ
    Note over U,FS: ğŸ“¤ å›¾ç‰‡ä¸Šä¼ é˜¶æ®µ
    U->>V: 8. é€‰æ‹©å¹¶ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶
    V->>S: 9. POST /uploadFile (å¸¦Token)
    S->>R: 10. éªŒè¯Tokenæœ‰æ•ˆæ€§
    S->>FS: 11. ä¿å­˜å›¾ç‰‡åˆ°æ–‡ä»¶ç³»ç»Ÿ
    FS-->>S: 12. è¿”å›å›¾ç‰‡è®¿é—®URL
    S-->>V: 13. è¿”å›ä¸Šä¼ æˆåŠŸä¿¡æ¯
    
    %% é…ç½®å‚æ•°é˜¶æ®µ
    Note over U,V: âš™ï¸ å‚æ•°é…ç½®é˜¶æ®µ
    U->>V: 14. é€‰æ‹©æ£€æµ‹æ¨¡å‹(YOLO/DETR)
    U->>V: 15. è®¾ç½®ç½®ä¿¡åº¦é˜ˆå€¼
    U->>V: 16. é€‰æ‹©AIåŠ©æ‰‹ç±»å‹
    U->>V: 17. å¯ç”¨æ€è€ƒæ¨¡å¼(å¯é€‰)
    
    %% æ£€æµ‹è¯·æ±‚é˜¶æ®µ
    Note over U,A: ğŸ” AIæ£€æµ‹é˜¶æ®µ
    U->>V: 18. ç‚¹å‡»å¼€å§‹æ£€æµ‹
    V->>S: 19. POST /predict (å¸¦Token)
    S->>R: 20. éªŒè¯Token
    S->>F: 21. è½¬å‘è¯·æ±‚åˆ°Flask
    F->>Y: 22. åŠ è½½æ¨¡å‹å¹¶é¢„æµ‹
    Y-->>F: 23. è¿”å›æ£€æµ‹ç»“æœ<br/>(æ ‡ç­¾ã€ç½®ä¿¡åº¦ã€åæ ‡)
    
    F->>FS: 24. ä¿å­˜æ ‡æ³¨å›¾ç‰‡
    FS-->>F: 25. è¿”å›å›¾ç‰‡URL
    
    %% AIåˆ†æé˜¶æ®µ
    Note over F,A: ğŸ§  AIæ™ºèƒ½åˆ†æé˜¶æ®µ
    alt ç”¨æˆ·é€‰æ‹©äº†AIåŠ©æ‰‹
        F->>A: 26. å‘é€æ£€æµ‹ç»“æœè¯·æ±‚åˆ†æ
        Note right of F: æ ¹æ®é€‰æ‹©è°ƒç”¨å¯¹åº”AIæœåŠ¡<br/>DeepSeek/Qwen/æœ¬åœ°/å±€åŸŸç½‘
        A-->>F: 27. è¿”å›æ•™å­¦å»ºè®®å’Œåˆ†æ
    end
    
    %% æ•°æ®ä¿å­˜é˜¶æ®µ
    Note over S,D: ğŸ’¾ æ•°æ®æŒä¹…åŒ–é˜¶æ®µ
    F-->>S: 28. è¿”å›å®Œæ•´ç»“æœ
    S->>D: 29. ä¿å­˜æ£€æµ‹è®°å½•åˆ°æ•°æ®åº“
    D-->>S: 30. ç¡®è®¤ä¿å­˜æˆåŠŸ
    S->>R: 31. æ›´æ–°ç»Ÿè®¡ç¼“å­˜
    
    %% ç»“æœå±•ç¤ºé˜¶æ®µ
    Note over U,V: ğŸ“Š ç»“æœå±•ç¤ºé˜¶æ®µ
    S-->>V: 32. è¿”å›å¤„ç†ç»“æœ
    V-->>U: 33. å±•ç¤ºåŸå›¾å’Œæ ‡æ³¨å›¾å¯¹æ¯”
    V-->>U: 34. æ˜¾ç¤ºæ£€æµ‹æ ‡ç­¾å’Œç½®ä¿¡åº¦
    V-->>U: 35. å±•ç¤ºAIæ•™å­¦å»ºè®®
    
    %% å¯é€‰å¯¼å‡ºé˜¶æ®µ
    Note over U,V: ğŸ“„ æŠ¥å‘Šå¯¼å‡º(å¯é€‰)
    U->>V: 36. å¯¼å‡ºæ£€æµ‹æŠ¥å‘Š
    V-->>U: 37. ç”Ÿæˆå¹¶ä¸‹è½½PDFæŠ¥å‘Š
```

### ğŸ“Š æ•°æ®æµå›¾

```mermaid
graph LR
    %% è¾“å…¥å±‚
    subgraph Input["ğŸ“¥ æ•°æ®è¾“å…¥å±‚"]
        direction TB
        A[ğŸ“· å›¾ç‰‡/è§†é¢‘ä¸Šä¼ ]
        B[ğŸ¯ æ¨¡å‹é€‰æ‹©<br/>YOLO/RT-DETR]
        C[âš™ï¸ ç½®ä¿¡åº¦è®¾ç½®<br/>0.0-1.0]
        D[ğŸ¤– AIåŠ©æ‰‹é€‰æ‹©<br/>Deepseek/Qwenç­‰]
        E[ğŸ§  æ€è€ƒæ¨¡å¼å¼€å…³]
        F[ğŸ”‘ ç”¨æˆ·è®¤è¯Token]
    end
    
    %% å¤„ç†å±‚
    subgraph Process["âš¡ æ•°æ®å¤„ç†å±‚"]
        direction TB
        G[ğŸ” TokenéªŒè¯]
        H[ğŸ”„ å›¾ç‰‡é¢„å¤„ç†<br/>æ ¼å¼è½¬æ¢/å°ºå¯¸è°ƒæ•´]
        I[ğŸ¯ æ¨¡å‹æ¨ç†<br/>ç›®æ ‡æ£€æµ‹]
        J[ğŸ“Š ç»“æœåå¤„ç†<br/>NMS/é˜ˆå€¼è¿‡æ»¤]
        K[ğŸ§  AIå»ºè®®ç”Ÿæˆ<br/>LLMåˆ†æ]
        L[ğŸ¨ ç»“æœå¯è§†åŒ–<br/>è¾¹æ¡†ç»˜åˆ¶]
    end
    
    %% å­˜å‚¨å±‚
    subgraph Storage["ğŸ’¾ æ•°æ®å­˜å‚¨å±‚"]
        direction TB
        M[ğŸ“ åŸå§‹æ–‡ä»¶å­˜å‚¨]
        N[ğŸ–¼ï¸ å¤„ç†ç»“æœå­˜å‚¨]
        O[ğŸ“‹ æ£€æµ‹è®°å½•å…¥åº“<br/>MySQL]
        P[ğŸ’­ AIå»ºè®®å­˜å‚¨]
        Q[ğŸ”´ ç¼“å­˜ç»Ÿè®¡æ•°æ®<br/>Redis]
    end
    
    %% è¾“å‡ºå±‚
    subgraph Output["ğŸ“¤ ç»“æœè¾“å‡ºå±‚"]
        direction TB
        R[ğŸ·ï¸ æ£€æµ‹æ ‡ç­¾åˆ—è¡¨]
        S[ğŸ“ˆ ç½®ä¿¡åº¦åˆ†æ•°]
        T[ğŸ–¼ï¸ æ ‡æ³¨å›¾ç‰‡URL]
        U[ğŸ’¡ AIæ•™å­¦å»ºè®®]
        V[ğŸ“„ æ£€æµ‹æŠ¥å‘Š]
        W[ğŸ“Š ç»Ÿè®¡å›¾è¡¨æ•°æ®]
    end
    
    %% æ•°æ®æµè¿æ¥
    F --> G
    A --> H
    B --> I
    C --> I
    D --> K
    E --> K
    
    G --> H
    H --> I
    I --> J
    J --> L
    J --> K
    
    A --> M
    J --> N
    I --> O
    K --> P
    O --> Q
    
    J --> R
    J --> S
    L --> T
    K --> U
    R --> V
    S --> V
    T --> V
    U --> V
    O --> W
    
    %% æ ·å¼å®šä¹‰
    classDef inputStyle fill:#e3f2fd,stroke:#1976d2,stroke-width:2px,color:#000
    classDef processStyle fill:#e8f5e8,stroke:#388e3c,stroke-width:2px,color:#000
    classDef storageStyle fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px,color:#000
    classDef outputStyle fill:#fff3e0,stroke:#f57c00,stroke-width:2px,color:#000
    
    class A,B,C,D,E,F inputStyle
    class G,H,I,J,K,L processStyle
    class M,N,O,P,Q storageStyle
    class R,S,T,U,V,W outputStyle
```

---

## ğŸ—„ï¸ æ•°æ®æ¨¡å‹è®¾è®¡

### ğŸ“Š å®ä½“å…³ç³»å›¾

```mermaid
classDiagram
    %% RuoYiæ ¸å¿ƒå®ä½“
    class SysUser {
        +Long userId
        +String userName
        +String nickName
        +String email
        +String phonenumber
        +String sex
        +String avatar
        +String password
        +String status
        +Date createTime
        +Date updateTime
    }
    
    class SysRole {
        +Long roleId
        +String roleName
        +String roleKey
        +String status
        +Integer roleSort
        +Date createTime
    }
    
    class SysMenu {
        +Long menuId
        +String menuName
        +String parentId
        +String path
        +String component
        +String perms
        +String icon
        +Integer orderNum
    }
    
    %% AIæ£€æµ‹è®°å½•å®ä½“
    class ImgRecords {
        +Long id
        +String weight
        +String inputImg
        +String outImg
        +String confidence
        +String allTime
        +String conf
        +String label
        +String username
        +Date startTime
        +String ai
        +String suggestion
        +Date createTime
    }
    
    class VideoRecords {
        +Long id
        +String weight
        +String inputVideo
        +String outVideo
        +String conf
        +String username
        +Date startTime
        +String ai
        +String suggestion
        +Date createTime
    }
    
    class CameraRecords {
        +Long id
        +String weight
        +String outVideo
        +String conf
        +String username
        +Date startTime
        +Date createTime
    }
    
    %% æ§åˆ¶å™¨ç±»
    class PredictionController {
        -ImgRecordsMapper imgRecordsMapper
        -RestTemplate restTemplate
        +predict() AjaxResult
        +getFileNames() AjaxResult
    }
    
    class SysLoginController {
        -SysLoginService loginService
        +login() AjaxResult
        +getInfo() AjaxResult
        +logout() AjaxResult
    }
    
    %% æœåŠ¡ç±»
    class FlaskAIService {
        -Flask app
        -SocketIO socketio
        +predictImg() Dict
        +predictVideo() Response
        +predictCamera() Response
        +stopCamera() String
    }
    
    class ChatAPIService {
        -OpenAI deepseek_client
        -String qwen_headers
        +deepseek_request() String
        +qwen_request() String
        +local_request() String
        +lan_request() String
    }
    
    %% è¯·æ±‚DTO
    class PredictRequest {
        +Date startTime
        +String weight
        +String username
        +String inputImg
        +String conf
        +String ai
        +Boolean thinkMode
    }
    
    %% å…³ç³»å®šä¹‰
    SysUser "1" --> "*" SysRole : has
    SysUser "1" --> "*" SysMenu : access
    
    SysUser "1" --> "*" ImgRecords : creates
    SysUser "1" --> "*" VideoRecords : creates
    SysUser "1" --> "*" CameraRecords : creates
    
    PredictionController --> PredictRequest : uses
    PredictionController --> ImgRecords : manages
    PredictionController --> FlaskAIService : calls
    
    SysLoginController --> SysUser : authenticates
    
    FlaskAIService --> ChatAPIService : uses
    FlaskAIService --> ImgRecords : saves
    FlaskAIService --> VideoRecords : saves
    FlaskAIService --> CameraRecords : saves
```

---

## ğŸš€ éƒ¨ç½²æ¶æ„

### ğŸ–¥ï¸ éƒ¨ç½²æ¶æ„å›¾

```mermaid
graph TB
    %% å®¢æˆ·ç«¯å±‚
    subgraph Client["ğŸ‘¥ å®¢æˆ·ç«¯å±‚"]
        direction LR
        WebBrowser[ğŸŒ Webæµè§ˆå™¨<br/>Chrome/Firefox/Edge]
        MobileBrowser[ğŸ“± ç§»åŠ¨ç«¯æµè§ˆå™¨<br/>å“åº”å¼è®¾è®¡]
    end
    
    %% è´Ÿè½½å‡è¡¡å±‚
    subgraph LoadBalancer["âš–ï¸ è´Ÿè½½å‡è¡¡å±‚ (å¯é€‰)"]
        Nginx[ğŸ”„ Nginxåå‘ä»£ç†<br/>ç«¯å£: 80/443<br/>SSLè¯ä¹¦é…ç½®]
    end
    
    %% åº”ç”¨æœåŠ¡å±‚
    subgraph AppServer["ğŸ–¥ï¸ åº”ç”¨æœåŠ¡å±‚"]
        direction TB
        
        subgraph Frontend["ğŸ¨ å‰ç«¯æœåŠ¡"]
            Vue[Vue 3.5.13<br/>ğŸ“¦ Node.js 18+<br/>ğŸ”— ç«¯å£: 8081]
        end
        
        subgraph Backend["âš™ï¸ åç«¯æœåŠ¡"]
            SpringBoot[Spring Boot 3.5.6<br/>â˜• JDK 21<br/>ğŸ”— ç«¯å£: 9999]
        end
        
        subgraph AIService["ğŸ¤– AIæ¨ç†æœåŠ¡"]
            Flask[Flask 3.1.0<br/>ğŸ Python 3.8+<br/>ğŸ”— ç«¯å£: 5000]
            YOLO[ğŸ¯ YOLO/DETRå¼•æ“<br/>ğŸ”¥ PyTorch + CUDA]
        end
    end
    
    %% AIæ¨¡å‹æœåŠ¡å±‚
    subgraph ModelService["ğŸ§  AIæ¨¡å‹æœåŠ¡å±‚"]
        direction TB
        
        subgraph Local["ğŸ’» æœ¬åœ°æœåŠ¡"]
            LMStudio[ğŸ  LM-Studio<br/>ğŸ”— ç«¯å£: 1234<br/>æ”¯æŒå¤šç§å¼€æºæ¨¡å‹]
        end
        
        subgraph Cloud["â˜ï¸ äº‘ç«¯æœåŠ¡"]
            DeepSeek[ğŸŒŠ DeepSeek API<br/>ğŸ”‘ API Keyè®¤è¯<br/>DeepSeek-R1æ¨¡å‹]
            Qwen[ğŸ”® é€šä¹‰åƒé—® API<br/>ğŸ”‘ API Keyè®¤è¯<br/>Qwenç³»åˆ—æ¨¡å‹]
        end
        
        subgraph LAN["ğŸ¢ å±€åŸŸç½‘æœåŠ¡"]
            LANModels[ğŸŒ å±€åŸŸç½‘AIæœåŠ¡<br/>ğŸ”— 192.168.x.x:1234<br/>ç§æœ‰éƒ¨ç½²å¤§æ¨¡å‹]
        end
    end
    
    %% æ•°æ®å­˜å‚¨å±‚
    subgraph DataLayer["ğŸ’¾ æ•°æ®å­˜å‚¨å±‚"]
        direction TB
        MySQL[ğŸ—„ï¸ MySQL 8.0+<br/>ğŸ”— ç«¯å£: 3306<br/>ğŸ“Š ç”¨æˆ·/è§’è‰²/æ£€æµ‹è®°å½•]
        Redis[ğŸ”´ Redis 6.0+<br/>ğŸ”— ç«¯å£: 6379<br/>âš¡ Token/ç¼“å­˜/ä¼šè¯]
        FileStorage[ğŸ“ æ–‡ä»¶å­˜å‚¨ç³»ç»Ÿ<br/>ğŸ–¼ï¸ å›¾ç‰‡/è§†é¢‘æ–‡ä»¶<br/>ğŸ“¦ æ£€æµ‹ç»“æœæ–‡ä»¶]
    end
    
    %% å¤–éƒ¨å·¥å…·å±‚
    subgraph Tools["ğŸ› ï¸ å¤–éƒ¨å·¥å…·å±‚"]
        FFmpeg[ğŸ¬ FFmpeg 8.0<br/>ğŸ“¹ è§†é¢‘æ ¼å¼è½¬æ¢<br/>ğŸ¥ æ‘„åƒå¤´æ•è·]
        CUDA[âš¡ CUDA Runtime<br/>ğŸš€ GPUåŠ é€Ÿè®¡ç®—<br/>ğŸ¯ æ¨¡å‹æ¨ç†åŠ é€Ÿ]
    end
    
    %% ç›‘æ§ä¸æ—¥å¿—
    subgraph Monitor["ğŸ“Š ç›‘æ§ä¸æ—¥å¿— (å¯é€‰)"]
        direction LR
        Actuator[Spring Boot Actuator<br/>ç³»ç»Ÿå¥åº·æ£€æŸ¥]
        Logback[Logbackæ—¥å¿—ç³»ç»Ÿ<br/>æ—¥å¿—æ”¶é›†åˆ†æ]
    end
    
    %% è¿æ¥å…³ç³»
    Client -.->|HTTPS/HTTP| LoadBalancer
    LoadBalancer -.->|åå‘ä»£ç†| Frontend
    LoadBalancer -.->|APIè½¬å‘| Backend
    
    Frontend -.->|REST API<br/>Axiosè¯·æ±‚| Backend
    Backend -.->|HTTPè½¬å‘<br/>æ£€æµ‹è¯·æ±‚| AIService
    Backend -.->|JDBC<br/>æ•°æ®æ“ä½œ| MySQL
    Backend -.->|Jedis<br/>ç¼“å­˜æ“ä½œ| Redis
    
    AIService -.->|HTTPè¯·æ±‚<br/>AIåˆ†æ| ModelService
    AIService -.->|æ–‡ä»¶è¯»å†™| FileStorage
    AIService -.->|è°ƒç”¨| Tools
    
    Backend -.->|ç›‘æ§æ•°æ®| Monitor
    
    %% æ ·å¼å®šä¹‰
    classDef clientStyle fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    classDef proxyStyle fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px
    classDef appStyle fill:#e8f5e8,stroke:#388e3c,stroke-width:2px
    classDef modelStyle fill:#fce4ec,stroke:#c2185b,stroke-width:2px
    classDef dataStyle fill:#fff8e1,stroke:#f9a825,stroke-width:2px
    classDef toolStyle fill:#fff3e0,stroke:#f57c00,stroke-width:2px
    classDef monitorStyle fill:#e0f2f1,stroke:#00897b,stroke-width:2px
    
    class WebBrowser,MobileBrowser clientStyle
    class Nginx proxyStyle
    class Vue,SpringBoot,Flask,YOLO appStyle
    class LMStudio,DeepSeek,Qwen,LANModels modelStyle
    class MySQL,Redis,FileStorage dataStyle
    class FFmpeg,CUDA toolStyle
    class Actuator,Logback monitorStyle
```

### ğŸŒ ç½‘ç»œæ‹“æ‰‘è¯´æ˜

1. **å®¢æˆ·ç«¯è®¿é—®**ï¼šç”¨æˆ·é€šè¿‡æµè§ˆå™¨è®¿é—®ç³»ç»Ÿï¼ˆå¯é€‰é…ç½®Nginxè¿›è¡Œè´Ÿè½½å‡è¡¡å’ŒSSLåŠ å¯†ï¼‰
2. **å‰åç«¯åˆ†ç¦»**ï¼šVueå‰ç«¯ï¼ˆ8081ç«¯å£ï¼‰ä¸Spring Bootåç«¯ï¼ˆ9999ç«¯å£ï¼‰ç‹¬ç«‹éƒ¨ç½²
3. **AIæœåŠ¡ç‹¬ç«‹**ï¼šFlask AIæœåŠ¡ï¼ˆ5000ç«¯å£ï¼‰ä½œä¸ºç‹¬ç«‹å¾®æœåŠ¡è¿è¡Œ
4. **æ•°æ®åº“é›†ç¾¤**ï¼šMySQLå­˜å‚¨æŒä¹…åŒ–æ•°æ®ï¼ŒRedisæä¾›é«˜é€Ÿç¼“å­˜
5. **AIæ¨¡å‹çµæ´»éƒ¨ç½²**ï¼šæ”¯æŒäº‘ç«¯APIã€æœ¬åœ°LM-Studioã€å±€åŸŸç½‘ç§æœ‰éƒ¨ç½²ä¸‰ç§æ–¹å¼
6. **ç›‘æ§ä½“ç³»**ï¼šSpring Boot Actuatoræä¾›å¥åº·æ£€æŸ¥ï¼ŒLogbackè®°å½•ç³»ç»Ÿæ—¥å¿—

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ğŸ“‹ ç¯å¢ƒè¦æ±‚

| è½¯ä»¶ | ç‰ˆæœ¬ | å¿…éœ€ |
|------|------|------|
| JDK | 21+ | âœ… |
| Node.js | 18+ | âœ… |
| Python | 3.8+ | âœ… |
| MySQL | 8.0+ | âœ… |
| Redis | 6.0+ | âœ… |
| Maven | 3.6+ | âœ… |

### 1ï¸âƒ£ æ•°æ®åº“åˆå§‹åŒ–

```sql
-- 1. åˆ›å»ºæ•°æ®åº“
CREATE DATABASE ry_vue CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

-- 2. å¯¼å…¥RuoYiåŸºç¡€è¡¨ç»“æ„ï¼ˆçº¦24å¼ è¡¨ï¼‰
source sql/ry_20250522.sql;

-- 3. å¯¼å…¥Quartzå®šæ—¶ä»»åŠ¡è¡¨
source sql/quartz.sql;

-- 4. åˆå§‹åŒ–AIæ£€æµ‹èœå•å’Œæƒé™
source sql/ai-detection-menus.sql;
```

### 2ï¸âƒ£ åç«¯é…ç½®

ä¿®æ”¹ `ruoyi-admin/src/main/resources/application-druid.yml`ï¼š

```yaml
spring:
  datasource:
    druid:
      master:
        url: jdbc:mysql://localhost:3306/ry_vue?useUnicode=true&characterEncoding=utf8&zeroDateTimeBehavior=convertToNull&useSSL=true&serverTimezone=GMT%2B8
        username: root        # ä¿®æ”¹æ•°æ®åº“ç”¨æˆ·å
        password: password    # ä¿®æ”¹æ•°æ®åº“å¯†ç 
```

ä¿®æ”¹ `application.yml`ï¼ˆRedisé…ç½®ï¼‰ï¼š

```yaml
spring:
  data:
    redis:
      host: localhost
      port: 6379
      password:              # Rediså¯†ç ï¼ˆå¦‚æœ‰ï¼‰
      database: 0
```

### 3ï¸âƒ£ IntelliJ IDEA é…ç½®ï¼ˆé‡è¦ï¼‰

å¦‚æœä½¿ç”¨ **IntelliJ IDEA** å¼€å‘ï¼Œè¯·æŒ‰ä»¥ä¸‹æ­¥éª¤é…ç½®ï¼ˆè§£å†³ JDK 25 ç¼–è¯‘é—®é¢˜ï¼‰ï¼š

1. æ‰“å¼€ `File` â†’ `Settings`ï¼ˆæˆ–æŒ‰ `Ctrl + Alt + S`ï¼‰
2. å¯¼èˆªåˆ°ï¼š`Build, Execution, Deployment` â†’ `Build Tools` â†’ `Maven` â†’ `Runner`
3. å‹¾é€‰ âœ… **`Delegate IDE build/run actions to Maven`**ï¼ˆå°† IDE æ„å»º/è¿è¡Œæ“ä½œå§”æ‰˜ç»™ Mavenï¼‰
4. ç‚¹å‡» `Apply` å’Œ `OK`
5. é‡æ–°æ„å»ºé¡¹ç›®ï¼š`Build` â†’ `Rebuild Project`

> ğŸ’¡ **è¯´æ˜**ï¼šæ­¤é…ç½®è®© IDEA ä½¿ç”¨ Maven è¿›è¡Œç¼–è¯‘ï¼Œè€Œä¸æ˜¯è‡ªå¸¦çš„ç¼–è¯‘å™¨ã€‚Maven ä¼šè‡ªåŠ¨åº”ç”¨ `pom.xml` ä¸­é…ç½®çš„ JDK 25 å…¼å®¹æ€§å‚æ•°ï¼Œé¿å…ç¼–è¯‘é”™è¯¯ã€‚

### 4ï¸âƒ£ å¯åŠ¨åç«¯æœåŠ¡

```bash
# ç¼–è¯‘æ•´ä¸ªé¡¹ç›®
mvn clean install

# å¯åŠ¨ä¸»åº”ç”¨
cd ruoyi-admin
mvn spring-boot:run

# æˆ–åœ¨ IDEA ä¸­ç›´æ¥è¿è¡Œ RuoYiApplication.java
```

è®¿é—®ï¼šhttp://localhost:9999

### 5ï¸âƒ£ Pythonç¯å¢ƒé…ç½®

```bash
# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼ˆæ¨èï¼‰
conda create -n yolo python=3.8
conda activate yolo

# å®‰è£…ä¾èµ–
cd ruoyi-flask
pip install flask flask-socketio flask-cors
pip install ultralytics opencv-python numpy
pip install requests openai python-dotenv
```

### 6ï¸âƒ£ å¯åŠ¨Flask AIæœåŠ¡

```bash
cd ruoyi-flask

# å¯åŠ¨RT-DETRæœåŠ¡
python main(DETR).py

# æˆ–å¯åŠ¨YOLOæœåŠ¡ï¼ˆäºŒé€‰ä¸€ï¼‰
python main(YOLO).py
```

è®¿é—®ï¼šhttp://localhost:5000

### 7ï¸âƒ£ å‰ç«¯é…ç½®ä¸å¯åŠ¨

```bash
cd ruoyi-ui

# å®‰è£…ä¾èµ–
npm install
# æˆ– yarn install
# æˆ– pnpm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# ç”Ÿäº§ç¯å¢ƒæ‰“åŒ…
npm run build:prod
```

è®¿é—®ï¼šhttp://localhost:8081

---

## ğŸ¯ ä¸»è¦åŠŸèƒ½

### ğŸ“Š æ•°æ®æ€»è§ˆï¼ˆæ–°å¢ï¼‰
- å­¦ç”Ÿè¡Œä¸ºç»Ÿè®¡å›¾ï¼ˆæŸ±çŠ¶å›¾ï¼‰
- ç”¨æˆ·ä½¿ç”¨ç‡åˆ†æï¼ˆé¥¼å›¾ï¼‰
- è¿‘æœŸæ£€æµ‹æƒ…å†µï¼ˆè¡¨æ ¼ï¼‰

### ğŸ–¼ï¸ AIæ£€æµ‹æ¨¡å—
- **å›¾ç‰‡æ£€æµ‹**ï¼šå•å¼ å›¾ç‰‡ä¸Šä¼ æ£€æµ‹
- **è§†é¢‘æ£€æµ‹**ï¼šè§†é¢‘æ–‡ä»¶æ‰¹é‡å¤„ç†
- **æ‘„åƒå¤´æ£€æµ‹**ï¼šå®æ—¶æµåª’ä½“å¤„ç†

### ğŸ“ æ£€æµ‹è®°å½•ç®¡ç†
- **å›¾ç‰‡è®°å½•**ï¼šæŸ¥çœ‹ã€ä¿®æ”¹ã€åˆ é™¤ã€å¯¼å‡º
- **è§†é¢‘è®°å½•**ï¼šåœ¨çº¿æ’­æ”¾ã€è®°å½•ç®¡ç†
- **æ‘„åƒè®°å½•**ï¼šå®Œæ•´å½•åˆ¶è¿‡ç¨‹ç®¡ç†
- **æ‰¹é‡æ“ä½œ**ï¼šæ”¯æŒæ‰¹é‡åˆ é™¤

### ğŸ› ï¸ RuoYiç³»ç»ŸåŠŸèƒ½
- ç”¨æˆ·ç®¡ç†ã€è§’è‰²ç®¡ç†ã€èœå•ç®¡ç†
- éƒ¨é—¨ç®¡ç†ã€å²—ä½ç®¡ç†ã€å­—å…¸ç®¡ç†
- å‚æ•°è®¾ç½®ã€é€šçŸ¥å…¬å‘Šã€æ—¥å¿—ç®¡ç†
- å®šæ—¶ä»»åŠ¡ã€ç³»ç»Ÿç›‘æ§ã€ä»£ç ç”Ÿæˆ

### ğŸ¤– AIåŠ©æ‰‹æ”¯æŒ
- **Deepseek**ï¼šåœ¨çº¿API / æœ¬åœ°éƒ¨ç½² / å±€åŸŸç½‘éƒ¨ç½²
- **é€šä¹‰åƒé—®ï¼ˆQwenï¼‰**ï¼šåœ¨çº¿API / æœ¬åœ°qwen3-4b / å±€åŸŸç½‘éƒ¨ç½²
- **æœ¬åœ°LLM**ï¼šæ”¯æŒLM-Studioç­‰æœ¬åœ°å¤§æ¨¡å‹

### ğŸ“ è¯¾å ‚è¡Œä¸ºè¯†åˆ«ï¼ˆ9ç§ï¼‰
| è¡Œä¸º | æ ‡ç­¾ |
|------|------|
| å†™ä½œ | Writing |
| é˜…è¯» | Reading |
| å¬è®² | Listening |
| ç¡è§‰ | Sleeping |
| è®¨è®º | Discussing |
| ä¸¾æ‰‹ | Raising_hand |
| ä½å¤´ | Bowing |
| ç©æ‰‹æœº | Phone |
| ç«™ç«‹ | Stand |

---

## ğŸ”‘ é»˜è®¤è´¦å·

| è´¦å· | å¯†ç  | è§’è‰² |
|------|------|------|
| admin | admin123 | è¶…çº§ç®¡ç†å‘˜ |
| ry | admin123 | æ™®é€šç”¨æˆ· |

---

## ğŸ“¡ APIæ¥å£

### åç«¯APIï¼ˆSpring Bootï¼‰
- **æ–‡ä»¶ä¸Šä¼ **ï¼š`POST /uploadFile`
- **é¢„æµ‹è½¬å‘**ï¼š`POST /predict`
- **å›¾ç‰‡è®°å½•**ï¼š`/imgRecords/*`
- **è§†é¢‘è®°å½•**ï¼š`/videoRecords/*`
- **æ‘„åƒè®°å½•**ï¼š`/cameraRecords/*`

### Flask AI API
- **å›¾ç‰‡æ£€æµ‹**ï¼š`POST /predictImg`
- **è§†é¢‘æ£€æµ‹**ï¼š`POST /predictVideo`
- **æ‘„åƒå¤´æ£€æµ‹**ï¼š`GET /predictCamera`
- **åœæ­¢å½•åˆ¶**ï¼š`GET /stopCamera`
- **æ¨¡å‹åˆ—è¡¨**ï¼š`GET /file_names`

### Swaggeræ–‡æ¡£
è®¿é—®ï¼šhttp://localhost:9999/doc.html

---

## ğŸ”§ é…ç½®è¯´æ˜

### AIæ¨¡å‹é…ç½®

åœ¨ `ruoyi-flask/utils/chatApi.py` ä¸­é…ç½®ï¼š

```python
# Deepseek API Key
DEEPSEEK_API_KEY = "your_deepseek_api_key"

# é€šä¹‰åƒé—® API Key  
QWEN_API_KEY = "your_qwen_api_key"

# æœ¬åœ°LM-Studioåœ°å€
LOCAL_API_BASE = "http://localhost:1234/v1"

# å±€åŸŸç½‘æœåŠ¡å™¨åœ°å€
LAN_API_BASE = "http://192.168.1.100:1234/v1"
```

### æ¨¡å‹æƒé‡æ–‡ä»¶

å°†YOLO/RT-DETRæ¨¡å‹æ–‡ä»¶ï¼ˆ`.pt`ï¼‰æ”¾åˆ° `ruoyi-flask/weights/` ç›®å½•ï¼š

```
weights/
â””â”€â”€ RT-DETR.pt    # æ¨èä½¿ç”¨RT-DETR
```

### FFmpegè·¯å¾„

é¡¹ç›®å·²å†…ç½®FFmpegï¼ˆç›¸å¯¹è·¯å¾„ï¼‰ï¼š
```
RuoYi-Vue3-springboot3/ffmpeg-8.0-full_build/bin/ffmpeg.exe
```

---

## ğŸ› å¸¸è§é—®é¢˜

### Q: IntelliJ IDEA ç¼–è¯‘å¤±è´¥ï¼Œæç¤º `java.lang.ExceptionInInitializerError`ï¼Ÿ
**A:** è¿™æ˜¯å› ä¸º IDEA ä½¿ç”¨è‡ªå¸¦ç¼–è¯‘å™¨æ— æ³•æ­£ç¡®å¤„ç† JDK 25ã€‚è¯·æŒ‰ä»¥ä¸‹æ­¥éª¤è§£å†³ï¼š
1. æ‰“å¼€ `Settings` â†’ `Build Tools` â†’ `Maven` â†’ `Runner`
2. å‹¾é€‰ âœ… `Delegate IDE build/run actions to Maven`
3. é‡æ–°æ„å»ºé¡¹ç›®

æˆ–è€…ï¼Œåœ¨ `Settings` â†’ `Compiler` â†’ `Java Compiler` â†’ `Additional command line parameters` ä¸­æ·»åŠ ï¼š
```
--add-exports=jdk.compiler/com.sun.tools.javac.api=ALL-UNNAMED --add-exports=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED --add-exports=jdk.compiler/com.sun.tools.javac.main=ALL-UNNAMED --add-exports=jdk.compiler/com.sun.tools.javac.model=ALL-UNNAMED --add-exports=jdk.compiler/com.sun.tools.javac.parser=ALL-UNNAMED --add-exports=jdk.compiler/com.sun.tools.javac.processing=ALL-UNNAMED --add-exports=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED --add-exports=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED --add-opens=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED --add-opens=jdk.compiler/com.sun.tools.javac.comp=ALL-UNNAMED
```

### Q: æ‘„åƒå¤´æ— æ³•æ‰“å¼€ï¼Ÿ
**A:** æœ¬é¡¹ç›®ä½¿ç”¨FFmpegç›´æ¥æ•è·æ‘„åƒå¤´ï¼Œè§£å†³äº†OpenCVåœ¨Windows 11ä¸Šçš„å…¼å®¹æ€§é—®é¢˜ã€‚ç³»ç»Ÿä¼šè‡ªåŠ¨æ£€æµ‹å¯ç”¨æ‘„åƒå¤´ã€‚

### Q: è§†é¢‘è½¬æ¢å¤±è´¥ï¼Ÿ
**A:** ç¡®ä¿FFmpegè·¯å¾„æ­£ç¡®ï¼Œé¡¹ç›®å·²å†…ç½®FFmpegï¼Œä½¿ç”¨ç›¸å¯¹è·¯å¾„è‡ªåŠ¨æŸ¥æ‰¾ã€‚

### Q: AIè¶…æ—¶ï¼Ÿ
**A:** å·²å°†å‰ç«¯è¶…æ—¶æ—¶é—´è®¾ç½®ä¸º5åˆ†é’Ÿï¼ˆ300ç§’ï¼‰ï¼Œå¦‚ä»è¶…æ—¶ï¼Œè¯·æ£€æŸ¥ï¼š
- AIæœåŠ¡æ˜¯å¦å¯åŠ¨ï¼ˆFlaskï¼‰
- API Keyæ˜¯å¦é…ç½®æ­£ç¡®
- ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸

### Q: æ£€æµ‹ç»“æœæ˜¾ç¤ºä¹±ç ï¼Ÿ
**A:** å·²ä¿®å¤Unicodeè½¬ä¹‰å­—ç¬¦é—®é¢˜ï¼Œåˆ·æ–°é¡µé¢å³å¯æ­£ç¡®æ˜¾ç¤ºä¸­æ–‡æ ‡ç­¾ã€‚

### Q: æ‰¹é‡åˆ é™¤å¤±è´¥ï¼Ÿ
**A:** å·²ä¿®å¤æ‰¹é‡åˆ é™¤åŠŸèƒ½ï¼Œåç«¯æ”¯æŒé€—å·åˆ†éš”çš„IDåˆ—è¡¨ã€‚

---

## ğŸ¨ ç•Œé¢é¢„è§ˆ

### æ•°æ®æ€»è§ˆ
- å­¦ç”Ÿè¡Œä¸ºæŸ±çŠ¶å›¾ï¼ˆä»Šæ—¥ç»Ÿè®¡ï¼‰
- ç”¨æˆ·ä½¿ç”¨é¥¼å›¾
- è¿‘æœŸæ£€æµ‹è®°å½•è¡¨æ ¼

### AIæ£€æµ‹
- å®æ—¶æ˜¾ç¤ºæ£€æµ‹è¿›åº¦
- å¯è§†åŒ–æ£€æµ‹ç»“æœ
- AIæ™ºèƒ½å»ºè®®

### æ£€æµ‹è®°å½•
- è¡¨æ ¼å±•ç¤ºæ‰€æœ‰è®°å½•
- è¯¦æƒ…å¼¹çª—æŸ¥çœ‹
- æ‰¹é‡æ“ä½œæ”¯æŒ

---

## ğŸš€ éƒ¨ç½²å»ºè®®

### å¼€å‘ç¯å¢ƒ
- åç«¯ï¼šIDEA ç›´æ¥è¿è¡Œ `RuoYiApplication`
- Flaskï¼šå‘½ä»¤è¡Œè¿è¡Œ `python main(DETR).py`
- å‰ç«¯ï¼š`npm run dev`

### ç”Ÿäº§ç¯å¢ƒ
- åç«¯ï¼š`mvn clean package` æ‰“åŒ…ä¸ºjarï¼Œ`java -jar` è¿è¡Œ
- Flaskï¼šä½¿ç”¨ `gunicorn` æˆ– `uwsgi` éƒ¨ç½²
- å‰ç«¯ï¼š`npm run build:prod` æ‰“åŒ…ï¼Œä½¿ç”¨Nginxéƒ¨ç½²

### Nginxé…ç½®ç¤ºä¾‹

```nginx
server {
    listen 80;
    server_name your-domain.com;

    # å‰ç«¯é™æ€èµ„æº
    location / {
        root /path/to/ruoyi-ui/dist;
        try_files $uri $uri/ /index.html;
    }

    # åç«¯API
    location /prod-api/ {
        proxy_pass http://localhost:9999/;
    }

    # Flask AIæœåŠ¡
    location /flask/ {
        proxy_pass http://localhost:5000/;
    }
}
```

---

## ğŸ“ æ›´æ–°æ—¥å¿—

### v2.0.0 (2025-10-17) - RuoYié›†æˆç‰ˆ

#### ğŸ‰ é‡å¤§æ›´æ–°
- âœ… å®Œæ•´é›†æˆRuoYi-Vue3æ¡†æ¶
- âœ… å‡çº§Spring Bootè‡³3.5.6
- âœ… å‡çº§Vueè‡³3æœ€æ–°ç‰ˆ
- âœ… æ–°å¢æ•°æ®æ€»è§ˆå¯è§†åŒ–é¡µé¢
- âœ… ä¼˜åŒ–æ£€æµ‹è®°å½•ç®¡ç†
- âœ… FFmpegæ‘„åƒå¤´æ–¹æ¡ˆ
- âœ… ç»Ÿä¸€è§†é¢‘å¤„ç†æµç¨‹

#### ğŸ”§ æŠ€æœ¯æ”¹è¿›
- MyBatis-Plusæ›¿ä»£MyBatis
- Spring Security + JWTè®¤è¯
- Redisç¼“å­˜ä¼˜åŒ–
- Druidæ•°æ®åº“ç›‘æ§

#### ğŸ› Bugä¿®å¤
- ä¿®å¤æ£€æµ‹ç»“æœUnicodeæ˜¾ç¤ºé—®é¢˜
- ä¿®å¤æ‘„åƒå¤´æ— æ³•æ‰“å¼€é—®é¢˜
- ä¿®å¤è§†é¢‘è½¬æ¢å¤±è´¥é—®é¢˜
- ä¿®å¤æ‰¹é‡åˆ é™¤åŠŸèƒ½
- ä¿®å¤AIè¶…æ—¶é—®é¢˜

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

### å¼€å‘è§„èŒƒ
- éµå¾ªJava/Python/JavaScriptç¼–ç è§„èŒƒ
- æäº¤ä¿¡æ¯æ¸…æ™°æè¿°æ›´æ”¹å†…å®¹
- é‡è¦åŠŸèƒ½è¯·æ›´æ–°æ–‡æ¡£
- ç¡®ä¿æ–°åŠŸèƒ½é€šè¿‡æµ‹è¯•


## ğŸ™ è‡´è°¢

æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®ï¼š

- [RuoYi-Vue3](http://ruoyi.vip/) - è‹¥ä¾ç®¡ç†ç³»ç»Ÿ
- [Spring Boot](https://spring.io/) - ä¼ä¸šçº§æ¡†æ¶
- [Vue.js](https://vuejs.org/) - å‰ç«¯æ¡†æ¶
- [Ultralytics](https://ultralytics.com/) - YOLOæ¨¡å‹
- [Deepseek](https://www.deepseek.com/) - å¤§è¯­è¨€æ¨¡å‹
- [é€šä¹‰åƒé—®](https://tongyi.aliyun.com/) - å¤§è¯­è¨€æ¨¡å‹


<div align="center">

**å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ªâ­Staræ”¯æŒä¸€ä¸‹ï¼**

Made with â¤ï¸ by RuoYi-AI-Classroom Team

</div>
